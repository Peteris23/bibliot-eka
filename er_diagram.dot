digraph ER {
    rankdir=LR;
    node [shape=box, fontname="Arial", fontsize=10];
    edge [fontname="Arial", fontsize=9];
    
    // Entity: USER
    USER [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
            <TR><TD><B>USER</B></TD></TR>
            <TR><TD ALIGN="LEFT"><U>PK: id</U></TD></TR>
            <TR><TD ALIGN="LEFT">name</TD></TR>
            <TR><TD ALIGN="LEFT">email</TD></TR>
            <TR><TD ALIGN="LEFT">password</TD></TR>
            <TR><TD ALIGN="LEFT">role</TD></TR>
            <TR><TD ALIGN="LEFT">created_at</TD></TR>
            <TR><TD ALIGN="LEFT">updated_at</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Entity: BOOK
    BOOK [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
            <TR><TD><B>BOOK</B></TD></TR>
            <TR><TD ALIGN="LEFT"><U>PK: id</U></TD></TR>
            <TR><TD ALIGN="LEFT">title</TD></TR>
            <TR><TD ALIGN="LEFT">author</TD></TR>
            <TR><TD ALIGN="LEFT">isbn</TD></TR>
            <TR><TD ALIGN="LEFT">genre</TD></TR>
            <TR><TD ALIGN="LEFT">image</TD></TR>
            <TR><TD ALIGN="LEFT">created_at</TD></TR>
            <TR><TD ALIGN="LEFT">updated_at</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Entity: LOAN
    LOAN [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="4">
            <TR><TD><B>LOAN</B></TD></TR>
            <TR><TD ALIGN="LEFT"><U>PK: id</U></TD></TR>
            <TR><TD ALIGN="LEFT"><I>FK: user_id</I></TD></TR>
            <TR><TD ALIGN="LEFT"><I>FK: book_id</I></TD></TR>
            <TR><TD ALIGN="LEFT">borrowed_at</TD></TR>
            <TR><TD ALIGN="LEFT">due_date</TD></TR>
            <TR><TD ALIGN="LEFT">returned_at</TD></TR>
            <TR><TD ALIGN="LEFT">created_at</TD></TR>
            <TR><TD ALIGN="LEFT">updated_at</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Relationships
    USER -> LOAN [headlabel="N", taillabel="1", arrowhead=crow, penwidth=2];
    BOOK -> LOAN [headlabel="N", taillabel="1", arrowhead=crow, penwidth=2];
    
    // Add title
    labelloc="t";
    label="Bibliotēkas Grāmatu Pārvaldības Sistēma\nEntity-Relationship Diagram";
    fontsize=16;
    fontname="Arial Bold";
}
