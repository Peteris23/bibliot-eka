digraph ER {
    rankdir=TB;
    bgcolor="#f8f9fa";
    node [shape=box, fontname="Helvetica", fontsize=11, style="rounded,filled", fillcolor="#ffffff"];
    edge [fontname="Helvetica", fontsize=10, color="#495057", penwidth=1.5];
    
    // Entity: USER
    USER [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#e7f5ff">
            <TR><TD BGCOLOR="#339af0" COLSPAN="1"><FONT COLOR="white"><B>ğŸ‘¤ USER</B></FONT></TD></TR>
            <TR><TD ALIGN="LEFT" BGCOLOR="#ffffff"><B><U>ğŸ”‘ id</U></B> (PK)</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“ name</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“§ email (UNIQUE)</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ”’ password</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ‘” role (ENUM)</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“… created_at</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ”„ updated_at</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Entity: BOOK
    BOOK [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#fff3bf">
            <TR><TD BGCOLOR="#fcc419" COLSPAN="1"><FONT COLOR="white"><B>ğŸ“š BOOK</B></FONT></TD></TR>
            <TR><TD ALIGN="LEFT" BGCOLOR="#ffffff"><B><U>ğŸ”‘ id</U></B> (PK)</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“– title</TD></TR>
            <TR><TD ALIGN="LEFT">âœï¸ author</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ”¢ isbn (UNIQUE, INDEX)</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ­ genre</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ–¼ï¸ image</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“… created_at</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ”„ updated_at</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Entity: LOAN
    LOAN [label=<
        <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="0" CELLPADDING="6" BGCOLOR="#d0ebff">
            <TR><TD BGCOLOR="#4dabf7" COLSPAN="1"><FONT COLOR="white"><B>ğŸ“‹ LOAN</B></FONT></TD></TR>
            <TR><TD ALIGN="LEFT" BGCOLOR="#ffffff"><B><U>ğŸ”‘ id</U></B> (PK)</TD></TR>
            <TR><TD ALIGN="LEFT"><B>ğŸ”— user_id</B> (FK â†’ USER)</TD></TR>
            <TR><TD ALIGN="LEFT"><B>ğŸ”— book_id</B> (FK â†’ BOOK)</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“† borrowed_at</TD></TR>
            <TR><TD ALIGN="LEFT">â° due_date</TD></TR>
            <TR><TD ALIGN="LEFT">âœ… returned_at</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ“… created_at</TD></TR>
            <TR><TD ALIGN="LEFT">ğŸ”„ updated_at</TD></TR>
        </TABLE>
    >, shape=plaintext];
    
    // Relationships with labels
    USER -> LOAN [label="  izÅ†em  ", headlabel="  N  ", taillabel="  1  ", arrowhead=crow, color="#339af0", penwidth=2];
    BOOK -> LOAN [label="  ir izÅ†emta  ", headlabel="  N  ", taillabel="  1  ", arrowhead=crow, color="#fcc419", penwidth=2];
    
    // Title with better formatting
    labelloc="t";
    label=<
        <TABLE BORDER="0">
            <TR><TD><FONT POINT-SIZE="18" COLOR="#212529"><B>ğŸ“Š BibliotÄ“kas PÄrvaldÄ«bas SistÄ“ma</B></FONT></TD></TR>
            <TR><TD><FONT POINT-SIZE="12" COLOR="#495057">Entity-Relationship Diagram</FONT></TD></TR>
        </TABLE>
    >;
}
